jQuery(document).ready(function(t){"use strict";var i=function(t,i,n){t=encodeURI(t),i=encodeURI(i);for(var e,a=n.parents("#yith-wcwtl-output").find("a.button, form"),c=void 0!==a.attr("action")?"action":"href",o=a.attr(c).split("&"),r=o.length;r--;)if((e=o[r].split("="))[0]==t){e[1]=i,o[r]=e.join("=");break}r<0&&(o[o.length]=[t,i].join("=")),a.prop(c,o.join("&"))},n=function(t,i){var n,e,a=t.split("?")[1].split("&");for(e=0;e<a.length;e++)n=a[e].split("="),i.push({name:n[0],value:n[1]});return i},e=function(i,e){t(document).trigger("yith-wcwtl-submit");var a=[{name:"action",value:"yith_wcwtl_submit"},{name:"context",value:"frontend"}],o=e.closest("#yith-wcwtl-output");a=n(i,a),o.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),c().then(function(i){t.ajax({url:woocommerce_params.ajax_url,data:t.param(a),method:"POST",dataType:"json",error:function(t){},success:function(i){t(document).find(".yith-wcwtl-ajax-message").remove(),"error"===i.type?(o.replaceWith(i.form),t(document).find(".yith-wcwtl-notices").append(i.msg),t(document).find("#yith-wcwtl-email").trigger("input")):(t(document).find("#yith-wcwtl-output").addClass("success"),t(document).find("#yith-wcwtl-output").empty().html(i.msg)),t(document).find("#yith-wcwtl-output").unblock(),t(document).trigger("yith-wcwtl-submit-success")}})}).catch(function(t){console.log(t)})};let a="yes"===ywcwtl.ajax;t(document).on("click","#yith-wcwtl-output a.yith-wcwtl-submit",function(i){i.preventDefault(),a?e(t(this).attr("href"),t(this)):c().then(function(){window.location.href=t(".yith-wcwtl-submit").attr("href")})}),t(document).on("submit","#yith-wcwtl-output form",function(i){i.preventDefault(),e(t(this).attr("action"),t(this))}),t(document).on("input","#yith-wcwtl-email",function(){var n=t(this),e=n.val();i(n.attr("name"),e,n)}),t(document).on("change","#yith-wcwtl-policy-check",function(){var n,e=t(this);i(e.attr("name"),e.is(":checked")?"yes":"no",e)});var c=function(){return void 0!==ywcwtl.recaptcha_site_key&&ywcwtl.recaptcha_site_key?ywtwlIsCaptchaValid():new Promise(function(t,i){t(!0)})}});